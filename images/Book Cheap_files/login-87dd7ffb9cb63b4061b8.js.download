(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8998],{3022:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(85893),s=function(e){var t=e.type,r=e.size,s=e.className,a=e.block,l=e.onClick,o=e.children,i=e.disabled,c=e.grey;return(0,n.jsx)("button",{disabled:void 0!==i&&i,type:void 0!=t?t:"button",className:"".concat(1==a?"w-full":""," ").concat(c?"bg-neutral-400 text-neutral-100":"bg-cta text-white"," rounded flex justify-center items-center ").concat("sm"==r?"h-12 px-6":"h-16 px-8"," ").concat(s),onClick:l,children:o})}},39180:function(e,t,r){"use strict";r.d(t,{X:function(){return a}});var n=r(67294),s=r(85893),a=function(e){var t=e.id,r=e.value,a=e.label,l=e.subLabel,o=e.checked,i=e.onChange,c=(0,n.useState)(!!o),u=c[0],d=c[1];return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:t,value:void 0==r?"Yes":r,className:"opacity-0 absolute h-5 w-5",checked:u,onChange:function(){d(!o),null===i||void 0===i||i(!o)}}),(0,s.jsx)("div",{className:"bg-white border-2 border-gray-500 w-5 h-5 flex flex-shrink-0 justify-center items-center mr-3 focus-within:border-blue-500",children:(0,s.jsx)("svg",{className:"fill-current hidden w-3 h-3 text-white pointer-events-none",version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,s.jsx)("g",{transform:"translate(-9 -11)",fill:"#FFFFFF",fillRule:"nonzero",children:(0,s.jsx)("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})})})})}),(0,s.jsxs)("label",{htmlFor:t,className:"select-none w-full flex justify-between text-sm lg:text-base",children:[a," ",void 0!=l?(0,s.jsx)("span",{className:"text-xs",style:{color:"#827E8E"},children:l}):""]})]})}},92501:function(e,t,r){"use strict";r.d(t,{n:function(){return u}});var n=r(92809),s=r(67294),a=(r(55078),r(93173)),l=r.n(a),o=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.label,r=e.name,n=e.register,a=e.defaultValue,i=e.disabled,u=e.rules,d=e.inputClass,f=e.errors,b=(0,s.useState)(!1),p=b[0],x=b[1],h=(0,s.useState)(!1);h[0],h[1],(0,s.useRef)("te");return(0,o.jsxs)("div",{className:"relative ".concat(void 0!=f[r]?"h-20":"h-16"," flex flex-col justify-end items-start mt-4"),children:[(0,o.jsx)("input",c({className:"border-b outline-none ".concat(void 0!=f[r]?"border-red-400 text-red-600 "+l().error:"text-neutral-100 border-neutral-400 "+l().input," text-base pb-1 w-full ").concat(d," ").concat(i?"bg-gray-100 cursor-not-allowed":""),type:"text",defaultValue:a||"",disabled:i||!1},n(r,u))),(0,o.jsx)("span",{className:"".concat(void 0!=f[r]?"inline-block":"hidden"," text-xs text-red-500"),children:f[r]&&f[r].message}),(0,o.jsx)("label",{className:"absolute cursor-text w-full left-0 ".concat(void 0!=f[r]?"text-red-600":"text-neutral-300"," ").concat(p||i?"bottom-7 text-sm":"bottom-1 text-base"," h-6 transition-all duration-200 ease-in-out"),onClick:function(){x(!0)},children:t})]})}},80676:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(92809),s=r(67294),a=r(53854),l=r(56207),o=r.n(l),i=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.label,r=e.name,n=e.register,l=e.rules,c=e.inputClass,d=e.errors,f=(0,s.useState)(!1),b=f[0],p=f[1];return(0,i.jsxs)("div",{className:"relative ".concat(void 0!=d[r]?"h-20":"h-16"," flex flex-col justify-end items-start mt-4"),children:[(0,i.jsx)("input",u({className:"border-b outline-none ".concat(void 0!=d[r]?"border-red-400 text-red-600 "+o().error:"text-neutral-100 border-neutral-400 "+o().input," text-base pb-1 w-full ").concat(c),type:b?"text":"password"},n(r,l))),(0,i.jsx)("span",{className:"".concat(void 0!=d[r]?"inline-block":"hidden"," text-xs text-red-500"),children:d[r]&&d[r].message}),(0,i.jsx)("button",{type:"button",className:"absolute ".concat(void 0!=d[r]?"bottom-5":"bottom-1.5"," right-0 text-neutral-300"),onClick:function(){p(!b)},children:b?(0,i.jsx)(a.MBb,{size:18}):(0,i.jsx)(a.Rbo,{size:18})}),(0,i.jsx)("label",{className:"absolute left-0 bottom-1 text-xs lg:text-base ".concat(void 0!=d[r]?"text-red-600":"text-neutral-300"," h-6"),children:t})]})}},44309:function(e,t,r){"use strict";r.r(t);var n=r(30266),s=r(809),a=r.n(s),l=r(67294),o=r(41664),i=r(53854),c=r(92501),u=r(80676),d=r(24009),f=r.n(d),b=r(3022),p=r(39180),x=r(87536),h=r(54883),m=r(49089),g=r(91118),v=r(11163),j=(r(60913),r(30248)),w=r(85893);t.default=function(e){var t=(0,j.Lp)()?"https://res.cloudinary.com/crendytech/image/upload/c_scale,w_300/v1671712628/travelbeta/travelbeta-logo-xmas-blue_1_wfcapf.png":"https://res.cloudinary.com/crendytech/image/upload/c_scale,w_300/v1638288058/travelbeta/213ba61d1043759862a00a57eed32c60_zbufwb.png",r=(0,l.useState)(t),s=r[0],d=(r[1],(0,x.cI)()),y=d.register,O=d.handleSubmit,N=(d.reset,d.formState),P=N.errors,k=N.isSubmitting,F=(0,l.useState)(!0),E=F[0],S=F[1],C=(0,v.useRouter)();(0,l.useEffect)((function(){if(m.e.IsUserAuthenticated){var e=m.e.GetUser();L(e)}}),[]);var L=function(e){e&&(void 0!=_.find(e.roles,(function(e){return"ROLE_FLIGHT_DEAL_ADMIN"==e.role}))?C.push("/admin/flight-deals"):void 0!=_.find(e.roles,(function(e){return"ROLE_STAFF"==e.role}))||void 0!=_.find(e.roles,(function(e){return"ROLE_MARKETING"==e.role}))?C.push("/admin/crm"):void 0!=_.find(e.roles,(function(e){return"ROLE_ADMIN"==e.role}))?C.push("/admin/pricing/rules/siti"):void 0!=_.find(e.roles,(function(e){return"ROLE_AFFILIATE"==e.role}))?C.push("/user/affiliate/dashboard"):C.push("/user/dashboard"))},R=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t.email,password:t.password},e.next=3,h.K.login(r);case 3:(n=e.sent).success?(g.h4.show("Login Successful","success"),s=n.data.accessToken,m.e.SaveToken(s,n.data)&&C.reload()):g.h4.show("Login Failed: ".concat(n.message),"error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{className:"metropolis bg-white lg:bg-prim-default min-h-screen pb-10",children:[(0,w.jsx)("div",{className:"bg-white w-full flex justify-center py-4.5 lg:py-3 shadow-sm lg:shadow-none",children:(0,w.jsx)(o.default,{href:"/",children:(0,w.jsx)("a",{children:(0,w.jsx)("img",{src:s,alt:"TravelBeta",className:"".concat(f().logo)})})})}),(0,w.jsx)("div",{className:"w-full lg:w-1/3 mx-auto pt-8 lg:pt-14 lg:pb-8 text-center uppercase",children:(0,w.jsx)("h1",{className:"text-base lg:text-xl leading-none font-semibold text-neutral-100 lg:text-white",children:"Log in"})}),(0,w.jsx)("div",{className:"bg-white rounded-2xl w-full lg:w-1/3 mx-auto py-8 px-6 lg:p-12",children:(0,w.jsxs)("form",{onSubmit:O(R),children:[(0,w.jsxs)("div",{className:"lg:bg-neutral-500 lg:p-8 lg:mt-8",children:[(0,w.jsx)(c.n,{name:"email",rules:{required:"Please enter email",email:"Please enter a valid email"},register:y,onChange:function(){},errors:P,label:"Email",inputClass:"bg-transparent"}),(0,w.jsx)(u.Z,{name:"password",rules:{required:"Please enter password"},register:y,onChange:function(){},errors:P,label:"Password",inputClass:"bg-transparent "})]}),(0,w.jsxs)("div",{className:"flex justify-between mt-7",children:[(0,w.jsx)(p.X,{label:"Remember me",onChange:function(e){S(e)},checked:E}),(0,w.jsx)(o.default,{href:"/user/forgot-password",children:(0,w.jsx)("a",{className:"text-prim-default text-sm leading-none",children:"Forgot password?"})})]}),(0,w.jsxs)(b.z,{type:"submit",size:"lg",block:!0,className:"mt-7 space-x-4 font-bold ".concat(k?"opacity-70":"opacity-100"),disabled:k,children:[(0,w.jsx)("span",{className:"text-base leading-none",children:k?"Submitting...":"Login"}),(0,w.jsx)(i.MOd,{size:16})]}),(0,w.jsxs)("div",{className:"space-y-2 mt-8 flex flex-col items-center",children:[(0,w.jsx)("p",{className:"text-sm leading-none text-black",children:"Don\u2019t have an account?"}),(0,w.jsx)(o.default,{href:"/user/signup",children:(0,w.jsx)("a",{className:"text-prim-default text-base leading-none font-semibold",children:"Create account"})})]})]})})]})}},33817:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return r(44309)}])},93173:function(e){e.exports={input:"TextField_input__3n5JN",error:"TextField_error__5Us5k",select:"TextField_select__2v6gi",radio:"TextField_radio__1RuDw"}},56207:function(e){e.exports={input:"PasswordField_input__O68Zw",error:"PasswordField_error__2Jy-6",select:"PasswordField_select__1bkm_",radio:"PasswordField_radio__1jRSi"}},24009:function(e){e.exports={seperator:"login_seperator__1Y3Ip",logo:"login_logo__2lPzS"}}},function(e){e.O(0,[913,4883,9774,2888,179],(function(){return t=33817,e(e.s=t);var t}));var t=e.O();_N_E=t}]);