(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5894],{82223:function(e,t,a){"use strict";a.d(t,{c:function(){return h}});var s=a(11163),n=a(67294),o=a(91118),i=a(49089),c=a(93933),r=a(29034),l=a(64210),u=a.n(l),d=a(85893),h=function(e){var t=(0,s.useRouter)();return(0,n.useEffect)((function(){0==i.e.IsUserAuthenticated&&(i.e.Logout(),o.h4.show("You are logged out","error"),t.push("/user/login"))}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(c.h,{authenticated:!0}),(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)(r.k,{className:"hidden lg:block"}),(0,d.jsx)("div",{className:"".concat(u().dashboardContent," "),children:e.children})]})]})}},67109:function(e,t,a){"use strict";a.r(t);var s=a(30266),n=a(809),o=a.n(n),i=(a(93933),a(54246)),c=a.n(i),r=a(53854),l=a(90016),u=a(82223),d=a(67294),h=a(49089),p=a(54883),g=a(11163),f=a(96486),b=a.n(f),m=a(91118),v=a(85893);t.default=function(e){var t=(0,d.useState)({}),a=t[0],n=t[1],i=(0,d.useState)({hotelCount:0,flightCount:0,visaCount:0,packageCount:0}),f=i[0],x=i[1],k=(0,g.useRouter)();return(0,d.useEffect)((0,s.Z)(o().mark((function e(){var t,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==h.e.IsUserAuthenticated()&&k.push("/user/login").then((function(){m.h4.show("Access Denied","error")})),t=h.e.GetUser(),n(t),e.prev=3,e.next=6,p.K.laodDashboardStat();case 6:(a=e.sent).success&&a.message&&(s={hotelCount:a.data.hotelCount||0,flightCount:a.data.flightCount||0,visaCount:a.data.visaCount||0,packageCount:a.data.packageCount||0},x(s)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),401==(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)&&k.reload();case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]),(0,v.jsxs)(u.c,{children:[(0,v.jsxs)("h3",{className:"text-2xl ".concat(c().text40+" "+c().leading_12," text-neutral-400 font-extrabold"),children:["Welcome, ",(0,v.jsx)("span",{className:"text-neutral-100",children:a&&a.firstName})]}),(0,v.jsx)("div",{className:"mt-8 w-full md:w-full lg:w-3/5 grid gap-x-6 gap-y-6 grid-cols-1 lg:grid-cols-2",children:l.map((function(e,t){return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"relative ".concat(c().h200," bg-cover pt-14"),style:{backgroundImage:"url(".concat(e.image,")")},children:[(0,v.jsxs)("div",{className:"px-7",children:[(0,v.jsx)("div",{className:"w-14 text-sm text-white",children:e.title}),(0,v.jsx)("div",{className:"text-4xl font-bold mb-4 text-white",children:"flight"==e.type?f.flightCount:"hotels"==e.type?f.hotelCount:"visa"==e.type?f.visaCount:"packages"==e.type?f.packageCount:0})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("button",{className:"bg-cta py-4.5 text-white font-bold w-full flex justify-center items-center space-x-4",onClick:function(){!function(e){var t;switch(e){case"flight":t="/?tab=flight";break;case"hotels":t="/?tab=hotel";break;case"packages":t="/packages";break;case"visa":t="/visa";break;default:t="/"}k.push(t)}(e.type)},children:[(0,v.jsxs)("span",{children:["Book ",b().upperFirst(e.type)]}),(0,v.jsx)("span",{children:(0,v.jsx)(r.MOd,{})})," "]})})]}),(0,v.jsx)("button",{className:"w-full text-sm leading-none text-prim-default text-center mt-6",onClick:function(){!function(e){var t;switch(e){case"flight":t="/user/flights";break;case"hotels":t="/user/hotels";break;case"packages":t="/user/packages";break;case"visa":t="/user/visa";break;default:t="/"}k.push(t)}(e.type)},children:"View previous bookings"})]},"d-comp-".concat(t))}))})]})}},84665:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/dashboard",function(){return a(67109)}])},64210:function(e){e.exports={dashboardContent:"dashboard_dashboardContent__3h8h6",adminContent:"dashboard_adminContent__1Dcrl"}},54246:function(e){e.exports={dashboardContent:"Dashboard_dashboardContent__5BdD_",text40:"Dashboard_text40__3b85q",leading_12:"Dashboard_leading_12__1QbJe",w300:"Dashboard_w300__2vE6R",h200:"Dashboard_h200__2_sgS"}},90016:function(e){"use strict";e.exports=JSON.parse('[{"title":"Flights Booked","count":"22","type":"flight","image":"https://res.cloudinary.com/diapyzzws/image/upload/v1643029613/Website%20Images/Frame_3470.png","link":"flight/bookings"},{"title":"Hotels Booked","count":"15","type":"hotels","image":"https://res.cloudinary.com/diapyzzws/image/upload/v1643283886/Website%20Images/hotels.png","link":"/hotel/bookings"},{"title":"Vacations Booked","count":"10","type":"packages","image":"https://res.cloudinary.com/diapyzzws/image/upload/v1643283887/Website%20Images/vacation.png","link":"/vacations/bookings"},{"title":"Visas Applications","count":"12","type":"visa","image":"https://res.cloudinary.com/diapyzzws/image/upload/v1643283886/Website%20Images/visa_app.png","link":"/visa/applications"}]')}},function(e){e.O(0,[4883,9774,2888,179],(function(){return t=84665,e(e.s=t);var t}));var t=e.O();_N_E=t}]);